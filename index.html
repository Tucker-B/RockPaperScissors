<!DOCTYPE html>
<html>

    <head>
        <script>
            function getRandomNum(min, max) {
                return Math.floor((Math.random() * max) + min);
            }
            function computerPlay() {

                let randomNum = getRandomNum(1, 3);

                console.log(randomNum);

                if (randomNum == 1) {
                    return "Rock";
                } else if (randomNum == 2) {
                    return "Paper";
                } else {
                    return "Scissors";
                } 
            }
            function playRound(playerSelection, computerSelection) {
                if (playerSelection == "Rock" && computerSelection == "Scissors") {
                    return "WIN";
                } else if (playerSelection == "Paper" && computerSelection == "Rock") {
                    return "WIN";
                } else if (playerSelection == "Scissors" && computerSelection == "Paper") {
                    return "WIN";
                } else if (playerSelection == "Rock" && computerSelection == "Rock") {
                    return "TIE";
                } else if (playerSelection == "Paper" && computerSelection == "Paper") {
                    return "TIE";
                } else if (playerSelection == "Scissors" && computerSelection == "Scissors") {
                    return "TIE";
                } else {
                    return "LOST";
                }
            }

            function printScoreboard(playerWins, computerWins) {
                console.log(`Player wins: ${playerWins} Computer wins: ${computerWins}`);
            }
            function printMoves(playerSelection, computerSelection) {
                console.log(`Player: ${playerSelection} \nComputer: ${computerSelection}`);
            }

            // Counters for # of wins for player & computer
            var playerWins = 0;
            var computerWins = 0;
            // If true, game ends
            var isFinished = false;

            function game() {
            
                while(isFinished == false) {

                    const playerSelection = prompt("What\'s your move?'");
                    const computerSelection = computerPlay();

                    printMoves(playerSelection, computerSelection);
                    
                    const result = playRound(playerSelection, computerSelection);

                    if (result == "WIN") {
                        playerWins++;
                        alert("You\'ve Won!");
                    } else if (result == "LOST"){
                        computerWins++;
                        alert("You\'ve Lost!");
                    } else {
                        alert("TIE! Restarting...");
                    }
                    printScoreboard(playerWins, computerWins);

                    if (playerWins == 3 || computerWins == 3) {
                        isFinished = true;
                        if (playerWins == 3) {
                            alert("Game over! You have defeated the mighty robot this time!");
                        } else {
                            alert("Game over! You have been ultimately defeated by the robot overlord!");
                        }
                    }
                }
                alert("Thanks for playing!");
            }

            game();
        </script>
    </head>
    <body>
        
    </body>
</html>